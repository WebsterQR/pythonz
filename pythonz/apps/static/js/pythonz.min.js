var pythonz={bootstrap:function(){"use strict";xross.automate(),$(function(){pythonz.makeGeopatterns(),pythonz.markUser(),pythonz.toggleTags(),sitecats.bootstrap(),sitecats.make_cloud("box-tags"),$(".sticky").sticky({topSpacing:80,zIndex:1}),$(".tooltipped").tooltip()})},toggleTags:function(){"use strict";$.each($(".tags_box"),function(t,e){e=$(e);0===$(".categories_box",e).length&&e.hide()})},makeGeopatterns:function(){"use strict";$.each($("[data-geopattern]"),function(t,e){e=$(e);e.css("background-image",GeoPattern.generate(e.data("geopattern")+"a").toDataUrl())})},markUser:function(){"use strict";$(".py_user").each(function(t,e){var n=e.innerHTML.replace(/\[u:(\d+):\s*([^\]]+)\s*\]/g,'<a href="https://pythonz.net/users/$1" title="Профиль на pythonz">$2</a>');$(e).html(n)})},activateCommentsTab:function(t){"use strict";setTimeout(function(){var a=0;$.each(["comments_vk","comments_fb","comments_disqus","comments_internal"],function(t,e){var n=parseInt($("#"+e+"_cnt").text());a<n&&($('a[href="#'+e+'"]',"#tabs-comments").tab("show"),a=n)})},t)},initEditor:function(t){"use strict";if(t)return new SimpleMDE({element:t,forceSync:!0,indentWithTabs:!1,spellChecker:!1,toolbar:["bold","italic",e("accent","flag","Акцент"),e("quote","quote-left","Цитата"),e("list_ul","list-ul","Маркированный список"),e("table","table","Таблица"),"|","image","link","|",e("note","flag-o","На заметку"),e("warning","exclamation-triangle","Внимание"),e("code","code","Код"),"|",e("gist","github","Gist"),e("podster","headphones","Подкаст с podster.fm"),"|","fullscreen"],insertTexts:{image:[".. image:: ",""],gist:[".. gist:: ",""],note:[".. note:: ",""],warning:[".. warning:: ",""],podster:[".. podster:: ",""],link:["`","<>`_"],accent:["``","``"],table:["\n.. table::\n ","|\n\n\n"],code:["\n.. code::\n","\n\n\n"],quote:["\n```\n","\n```"],list_ul:["\n* ","\n\n"]}});function e(c,t,e){return{name:c,action:function(t){var e,n,a,s,o,i,r;n=c,a=(e=t).codemirror,s=e.getState()[n],o=e.options.insertTexts[n],/editor-preview-active/.test(a.getWrapperElement().lastChild.className)||(t=o[0],e=o[1],n=a.getCursor("start"),o=a.getCursor("end"),i&&(e=e.replace("#url#",i)),s?(t=(r=a.getLine(n.line)).slice(0,n.ch),e=r.slice(n.ch),a.replaceRange(t+e,{line:n.line,ch:0})):(r=a.getSelection(),a.replaceSelection(t+r+e),n.ch+=t.length,n!==o&&(o.ch+=t.length)),a.setSelection(n,o),a.focus())},className:"fa fa-"+t,title:e}}},Reference:{RULE_PYVERSION_ADDED:[/\+py([\w\.]+)/g,'<small><div class="badge badge-info" title="Актуально с версии"><a href="/versions/named/$1/">$1</a></div></small>'],RULE_PYVERSION_REMOVED:[/-py([\w\.]+)/g,'<small><div class="badge badge-danger" title="Устрело в версии"><a href="/versions/named/$1/">$1</a></div></small>'],RULE_LITERAL:[/'([^']+)'/g,'<strong class="cl__green">$1</strong>'],RULE_UNDERMETHOD:[/(__[^\s]+__)/g,"<i>$1</i>"],RULE_EMDASH:[/\s+-\s+/g," &#8212; "],decorateDescription:function(t){"use strict";this.decorateArea(t,[this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_EMDASH])},decorateFuncResult:function(t){"use strict";this.decorateArea(t,[this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_EMDASH])},decorateFuncParams:function(t){"use strict";this.decorateArea(t,[[/([^->]+)(\s--)/g,function(t,e,n){return'<span class="fa fa-certificate text-muted"></span> <b>'+(e=e.replace(/([^\s]+)(\s.+)/g,'$1<span class="text-muted">$2</span>'))+"</b>"+n}],[/--/g,":"],this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_LITERAL,this.RULE_UNDERMETHOD,this.RULE_EMDASH])},decorateArea:function(t,e){"use strict";var t=$("#"+t),n=t.html();void 0!==n&&$.each(e,function(t,e){n=n.replace(e[0],e[1])}),t.html(n)}},Map:function(t,e){"use strict";var n=this,a=$("#"+t),s=e;this.getBoundsForCoords=function(t){return ymaps.util.bounds.getCenterAndZoom(t,[a.width(),a.height()])},this.getPlacemarksFromMapObjects=function(t){var o=[],i=0;return void 0===t&&(t=s),$.each(t,function(t,e){var n=e.coords,a=e.title,s=e.descr,e=e.link;o[i]=new ymaps.Placemark(n,{balloonContentHeader:a,balloonContentBody:s,balloonContentFooter:e,clusterCaption:a,place_id:t},{hideIconOnBalloonOpen:!1,preset:"islands#darkBlueCircleDotIcon"}),i++}),o},this.getClusterer=function(){var t=n.getPlacemarksFromMapObjects(),e=new ymaps.Clusterer({preset:"islands#darkBlueClusterIcons",clusterDisableClickZoom:!0,clusterBalloonPanelMaxMapArea:0,clusterBalloonContentLayoutWidth:250,clusterBalloonContentLayoutHeight:100,clusterBalloonLeftColumnWidth:100});return e.add(t),e},this.initMap=function(){ymaps.ready(function(){var t=n.getClusterer(),e=n.getBoundsForCoords(t.getBounds());$.extend(e,{controls:["zoomControl"]}),new ymaps.Map(a.attr("id"),e).geoObjects.add(t)})},n.initMap()}};pythonz.bootstrap();
